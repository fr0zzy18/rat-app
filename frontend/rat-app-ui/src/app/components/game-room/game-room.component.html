<div class="game-room-container">
  <h1>Bingo Game</h1>

  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <div *ngIf="winnerMessage" class="winner-message alert alert-success">
    {{ winnerMessage }}
  </div>

  <div *ngIf="isGamePaused" class="game-paused-message alert alert-warning">
    Game Paused. Waiting for players to reconnect.
  </div>

  <div *ngIf="isPlayer2Joined && !isGameFinished && !isGamePaused" class="game-timer-section">
    <span class="game-timer-label">Game Duration:</span>
    <span class="game-timer-value">{{ displayTimer }}</span>
  </div>

  <div class="boards-wrapper" [class.game-finished]="isGameFinished" [class.game-paused]="isGamePaused">
    <div class="player-board-section" [class.faded-inactive]="isBoardInactiveAndFaded">
      <h2 *ngIf="!isGamePaused">{{ myBoardDisplayName }}</h2>
      <div *ngIf="isBoardInactiveAndFaded" class="waiting-for-opponent-overlay">
        <p>Waiting for an opponent to join...</p>
      </div>
      <div class="game-board">
        <div *ngFor="let row of gameBoard; let i = index" class="board-row">
          <div
            *ngFor="let cell of row; let j = index"
            class="board-cell"
            [class.empty]="cell.isEmpty"
            [class.checked]="cell.isChecked"
            (click)="toggleCellChecked(cell)">
            <span *ngIf="cell.phrase">{{ cell.phrase }}</span>
            <span *ngIf="cell.isEmpty" class="empty-text"></span>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="opponentSelectedCards.length > 0" class="opponent-board-section">
      <h2 *ngIf="!isGamePaused">{{ opponentBoardDisplayName }}</h2>
      <div class="game-board opponent-board">
        <div *ngFor="let row of opponentGameBoard; let i = index" class="board-row">
          <div
            *ngFor="let cell of row; let j = index"
            class="board-cell"
            [class.empty]="cell.isEmpty"
            [class.checked]="cell.isChecked">
            <span *ngIf="cell.phrase">{{ cell.phrase }}</span>
            <span *ngIf="cell.isEmpty" class="empty-text"></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <button *ngIf="isGameFinished" (click)="goBackToBingo()" class="back-button">Back</button>
</div>
